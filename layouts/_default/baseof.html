<!DOCTYPE html>
<html lang="{{ .Site.Language.Lang }}" data-bs-theme="light">
<head>
    {{- partial "head.html" . -}}
</head>
<body>
    <a href="#main" class="skip-link">{{ i18n "skipToContent" }}</a>
    
    {{- partial "header.html" . -}}
    
    <div class="container main-container">
        <div class="row">
            {{- $sidebarPosition := .Site.Params.sidebarPosition | default "right" -}}
            
            {{- if eq $sidebarPosition "left" -}}
            <aside class="col-lg-3">
                {{- partial "sidebar.html" . -}}
            </aside>
            {{- end -}}
            
            <main id="main" class="col-lg-9">
                {{- block "main" . }}{{- end }}
            </main>
            
            {{- if ne $sidebarPosition "left" -}}
            <aside class="col-lg-3">
                {{- partial "sidebar.html" . -}}
            </aside>
            {{- end -}}
        </div>
    </div>
    
    {{- partial "footer.html" . -}}
    
    <!-- Dark mode toggle button -->
    <button id="darkModeToggle" class="dark-mode-toggle" aria-label="{{ i18n "toggleDarkMode" }}">
        <i id="darkModeIcon" class="bi bi-moon-fill"></i>
    </button>
    
    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    
    <!-- Lunr.js for search -->
    {{ if .Site.Params.enableSearch }}
    <script src="https://unpkg.com/lunr/lunr.js"></script>
    {{ end }}
    
    <!-- Custom JS -->
    <script src="{{ "js/dark-mode.js" | relURL }}"></script>
    {{ if .Site.Params.enableSearch }}
    <script src="{{ "js/search.js" | relURL }}"></script>
    {{ end }}
    
    {{- block "scripts" . }}{{- end }}
</body>
</html>